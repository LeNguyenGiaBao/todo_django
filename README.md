# todo_app

A simple Todo API built with Django, Django REST Framework, and JWT authentication.

## Requirements

- Python 3.12+
- Django 4.x+
- Django REST Framework 3.x+
- djangorestframework-simplejwt for JWT authentication

You can install the required dependencies with:

```bash
pip install -r requirements.txt
```

## Setup
1. Clone the repository
    ```bash
    git clone https://github.com/LeNguyenGiaBao/todo_django.git
    cd TodoAPI
    ```

2. Setup the database
Run the following command to apply database migrations and set up your database schema:

    ```bash
    python manage.py migrate
    ```

3. Create a superuser (optional)
You can create a superuser to access the Django admin panel:

    ```bash
    python manage.py createsuperuser
    ```

4. Running the development server
To start the development server, run:

    ```bash
    python manage.py runserver
    ```
Your API will be accessible at http://127.0.0.1:8000/.

## JWT Authentication
To interact with the API, you will need to obtain a JWT token. You can get a token by logging in with the user credentials via the auth endpoint.

Obtain JWT Token

`POST /api/token/`

Request body:

```json
{
    "username": "user1",
    "password": "password"
}
```
Response body:

```json
{
    "access": "<your_access_token>",
    "refresh": "<your_refresh_token>"
}
```
You can then use the access token for authentication in subsequent requests by including it in the Authorization header as a Bearer token.

Example of sending a request with a JWT token:
`curl -H "Authorization: Bearer <your_access_token>" -X GET http://127.0.0.1:8000/api/todos/`

## API Endpoints
GET `/api/todos/`: List all to-do items for the authenticated user.

POST `/api/todos/`: Create a new to-do item.

GET `/api/todos/{id}/`: Retrieve a single to-do item by its ID.

PUT `/api/todos/{id}/`: Update a to-do item.

PATCH `/api/todos/{id}/`: Mark a to-do item as completed (or update specific fields).

DELETE `/api/todos/{id}/`: Soft delete a to-do item (sets is_deleted to True).


## Unit Tests
You can run the test suite to verify that everything works as expected.

To run the tests, use the following command:

```bash
python manage.py test apps.todos
```

This will run all the tests defined in the tests.py file of the todos app.

Test Output
The test results will indicate whether your API's endpoints are functioning correctly. 

## Logging
The `logs/` folder is used for logging purposes, and is ignored in version control. Any logs generated by the application during runtime will be stored here.